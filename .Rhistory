hist(sum.date)
?hist
hist(sum.date, breaks = length(sum.date) )
?hist
length(sum.date)
hist(sum.date)
hist(sum.date, freq = TRUE)
?hist
hist(sum.date, main = "Histogram of the total number of steps taken each day",
xlab = "Number of steps", density = TRUE)
hist(sum.date, main = "Histogram of the total number of steps taken each day",
xlab = "Number of steps")
?hist
hist(sum.date, main = "Histogram of the total number of steps taken each day",
xlab = "Number of steps", freq = FALSE)
hist(sum.date, main = "Histogram of the total number of steps taken each day",
xlab = "Number of steps")
hist(sum.date, breaks = "pretty" main = "Histogram of the total number of steps taken each day",
xlab = "Number of steps")
?hist
hist(sum.date, breaks = 60
main = "Histogram of the total number of steps taken each day",
xlab = "Number of steps")
hist(sum.date, breaks = 60,
main = "Histogram of the total number of steps taken each day",
xlab = "Number of steps")
?summary
summary(data)
summary(data$steps)
summary(data$steps) -> summary.data.frame
summary.dataframe
summary.data.frame
unclass(summary.data.frame)
summary.data.frame$NA
dim(summary.data.frame)
length(summary.data.frame)
class(summary.data.frame)
summary.data.frame[1]
summary.data.frame[2]
length(sum.date)/2
floor(length(sum.date)/2)
tmp <- sort(sum.date)
tmp
tmp[30]
mean(sum.date)
Mean
head(data)
summary(data$steps)
?floor
?ifelse
?mod
5%2
5mod2
5 mod 2
?+
? a-b
5 %% 2
4 %% 2
4 %% 3
?ifelse
middle <- ifelse(length(sum.date)%%2,
c(length(sum.date)/2, 1 + length(sum.date)/2),
ceiling(length(sum.date)/2))
Median <- mean(sort(sum.date)[middle])
Median
sum.date
sort(sum.date)
sort(sum.date)[31]
?plot
tail(data)
data <- read.csv("activity.csv")
data
data$interval
?Date
data <- read.csv("activity.csv",
colClasses = c("numeric", "Date", "factor"))
head(data)
data$interval
levels(data$interval)
?plot
intervals <- as.numeric(levels(data$intervals))
names(intervals) <- levels(data$intervals)
intervals <- sort(intervals)
?cbind
?data.table
?data.frame
dataframe(intervals)
data.frame(intervals)
data.frame(numeric(length(intervals)) ,row.names = names(intervals))
plot(intervals)
intervals <- as.character(intervals)
intervas
intervals
intervals <- as.numeric(levels(data$intervals))
names(intervals) <- levels(data$intervals)
intervals <- sort(intervals)
intervals
names(data)
intervals <- as.numeric(levels(data$interval))
names(intervals) <- levels(data$interval)
intervals <- sort(intervals)
intervals <- as.character(intervals)
intervals
names(intervals)
intervals <- as.numeric(levels(data$interval))
intervals
intervals <- sort(as.numeric(levels(data$interval)))
intervals
data <- read.csv("activity.csv")
head(data)
intervals <- sort(as.numeric(levels(data$interval)))
names(intervals) <- as.character(intervals)
for(i in seq_along(intervals)){
intervals[i] = mean(data[data$interval == intervals[i], "steps"],
na.rm = TRUE)
}
head(intervals)
data <- read.csv("activity.csv",
colClasses = c("numeric", "Date", "factor"))
intervals <- sort(as.numeric(levels(data$interval)))
names(intervals) <- as.character(intervals)
for(i in seq_along(intervals)){
intervals[i] = mean(data[data$interval == intervals[i], "steps"],
na.rm = TRUE)
}
head(intervals)
plot(names(intervals), intervals, type = "l")
plot(names(intervals), intervals,
type = "l", xlab = "Intervals", ylab = "Mean",
main = "Time series plot of the 5-minute interval and the average number of steps taken")
plot(names(intervals), intervals,
type = "l", xlab = "Intervals", ylab = "Mean",
main = "Time series plot of the 5-minute interval\n and the average number of steps taken")
?max
?is.na
data[data[!is.na(data$steps), "steps"] == max(data$steps, na.rm = TRUE), "interval"]
Max <- max(data$steps, na.rm = TRUE)
tmp <- data[!is.na(data$steps), "steps"] == max(data$steps, na.rm = TRUE)
data[tmp,3]
summary(data)[7]
?is.na
anyNA(data[1,])
?tapply
?sapply
?rows
?is.na
sum(is.na(data$steps))
?copy
??copy
row.names(data)
dim(data)
intervals[[5]]
intervals[[10]]
head(intervals)
intervals[5]
intervals$5
intervals["5"]
intervals[["5"]]
new.data <- data
for(i in seq_along(dim(new.data)[1])){
if(is.na(new.data[i, "steps"])){
new.data[i, "steps"] = intervals[[as.character(i)]]
}
}
head(intervals)
head(data)
interval[[data[1,"interval"]]]
intervals[[data[1,"interval"]]]
new.data <- data
for(i in seq_along(dim(new.data)[1])){
if(is.na(new.data[i, "steps"])){
new.data[i, "steps"] = intervals[[ new.data[i, "interval"] ]]
}
}
summary(new.data)
?ifelse
tmp <- c(F,F,T,F,T)
ifelse(tmp, 2, 1)
steps <- is.na(data$steps)
names(steps) <- row.names(data)
head(steps)
?data.frame
new.data <- data.frame(data)
for(i in seq_along(dim(new.data)[1])){
if(is.na(new.data[i, "steps"])){
new.data[i, "steps"] = intervals[[ new.data[i, "interval"] ]]
}
}
summary(data)
summary(new.data)
?cbind
?copy
?copy
??copy
?new
?data.table
?data.frame
steps <- data$steps
for(i in seq_along(steps)){
if(is.na(steps[i])){
steps[i] = intervals[[ data[i, "interval"] ]]
}
}
summary(steps)
?cbind
new.data <- cbind(steps, data$date, data$interval)
names(new.data)
head(new.data)
?data.frame
new.data <- data.frame(steps, data$date, data$interval)
head(new.data)
names(new.data) <- names(data)
head(new.data)
head(data)
summary(new.data)
summary(data)
boxplot(new.data$steps)
?med
?median
for(i in seq_along(sum.date)){
sum.date[i] = sum(new.data[new.data$new.date == names(sum.date)[i], "steps"])
}
hist(sum.date, breaks = 60,
main = "Histogram of the total number of steps taken each day",
xlab = "Number of steps")
c(Mean, new.mean)
for(i in seq_along(sum.date)){
sum.date[i] = sum(new.data[new.data$date == names(sum.date)[i], "steps"])
}
hist(sum.date, breaks = 60,
main = "Histogram of the total number of steps taken each day",
xlab = "Number of steps")
new.mean <- mean(sum.date)
new.mean
new.median <- median(sum.date)
new.median
c(Mean, new.mean)
names(means) <- c("NA excluded", "NA replaced")
means
means <- c(Mean, new.mean)
names(means) <- c("NA excluded", "NA replaced")
means
diffrences <- rbind(c(Mean, new.mean), c(Median, new.median))
colNames(diffrences) <- c("NA excluded", "NA replaced")
rowNames(diffrences) <- c("means", "medians")
diffrences
names(diffrences) <- c("NA excluded", "NA replaced")
diffrences
diffrences <- rbind(c(Mean, new.mean), c(Median, new.median))
names(diffrences) <- list(c("means", "medians"),
c("NA excluded", "NA replaced"))
diffrences
?data.frame
diffrences <- data.frame(c(Mean, new.mean), c(Median, new.median),
col.names = c("NA excluded", "NA replaced"),
row.names = c("means", "medians"))
diffrences
diffrences <- data.frame(cbind(c(Mean, new.mean), c(Median, new.median)),
col.names = c("NA excluded", "NA replaced"),
row.names = c("means", "medians"))
diffrences
diffrences <- data.frame(c(Mean, new.mean), c(Median, new.median),
names = c("NA excluded", "NA replaced"),
row.names = c("means", "medians"))
diffrences
diffrences <- data.frame(c(Mean, new.mean), c(Median, new.median),
row.names = c("means", "medians"))
names(diffrences) <- c("NA excluded", "NA replaced")
diffrences
sum.date <- numeric(length = length(levels(data$date)))
names(sum.date) <- levels(data$date)
for(i in seq_along(sum.date)){
sum.date[i] = sum(data[data$date == names(sum.date)[i], "steps"],
na.rm = TRUE)
}
middle <- ifelse(length(sum.date)%%2,
c(length(sum.date)/2, 1 + length(sum.date)/2),
ceiling(length(sum.date)/2))
middle
sum.date
sum.date <- numeric(length = length(levels(data$date)))
names(sum.date) <- levels(data$date)
for(i in seq_along(sum.date)){
sum.date[i] = sum(data[data$date == names(sum.date)[i], "steps"],
na.rm = TRUE)
}
hist(sum.date, breaks = 60,
main = "Histogram of the total number of steps taken each day",
xlab = "Number of steps")
# 1. Loading data
data <- read.csv("activity.csv",
colClasses = c("numeric", "factor", "factor"))
rm(list = ls(0))
rm(list = ls())
data <- read.csv("activity.csv",
colClasses = c("numeric", "factor", "factor"))
# 1. Plotting histogram
sum.date <- numeric(length = length(levels(data$date)))
names(sum.date) <- levels(data$date)
for(i in seq_along(sum.date)){
sum.date[i] = sum(data[data$date == names(sum.date)[i], "steps"],
na.rm = TRUE)
}
hist(sum.date, breaks = 60,
main = "Histogram of the total number of steps taken each day",
xlab = "Number of steps")
# 2A. Mean
Mean <- mean(sum.date)
Mean
# 2B. Median
middle <- ifelse(length(sum.date)%%2,
c(length(sum.date)/2, 1 + length(sum.date)/2),
ceiling(length(sum.date)/2))
Median <- mean(sort(sum.date)[middle])
Median
middle
middle <- ifelse(length(sum.date)%%2,
ceiling(length(sum.date)/2),
c(length(sum.date)/2, 1 + length(sum.date)/2),)
Median <- mean(sort(sum.date)[middle])
Median
median(sum.date)
median(sum.date, na.rm = TRUE)
sum.date
sum.date <- numeric(length = length(levels(data$date)))
names(sum.date) <- levels(data$date)
for(i in seq_along(sum.date)){
sum.date[i] = sum(data[data$date == names(sum.date)[i], "steps"],
na.rm = TRUE)
if(sum.date[i] == 0){
sum.date[i] = NA
}
}
hist(sum.date, breaks = 60,
main = "Histogram of the total number of steps taken each day",
xlab = "Number of steps")
sum.date
?hist
?numeric
?vector
?sequence
?seq
?c
?vector
?numeric
?replace
sum.date <- numeric(length = length(levels(data$date)))
replace(sum.date, 1:length(sum.date), NA)
names(sum.date) <- levels(data$date)
for(i in seq_along(sum.date)){
sum.date[i] = sum(data[data$date == names(sum.date)[i], "steps"],
na.rm = TRUE)
}
hist(sum.date, breaks = 60,
main = "Histogram of the total number of steps taken each day",
xlab = "Number of steps")
sum.date
sum.date <- numeric(length = length(levels(data$date)))
names(sum.date) <- levels(data$date)
for(i in seq_along(sum.date)){
sum.date[i] = sum(data[data$date == names(sum.date)[i], "steps"],
na.rm = TRUE)
}
hist(sum.date, breaks = 60,
main = "Histogram of the total number of steps taken each day",
xlab = "Number of steps")
sum.date
names(new.data)
rm(list=ls())
data <- read.csv("activity.csv",
colClasses = c("numeric", "factor", "factor"))
sum.date <- numeric(length = length(levels(data$date)))
names(sum.date) <- levels(data$date)
for(i in seq_along(sum.date)){
sum.date[i] = sum(data[data$date == names(sum.date)[i], "steps"],
na.rm = TRUE)
# In this case either if sum is equal to 0 or all of the values in that
# particular day are missing the sum will be equal to 0.
}
hist(sum.date, breaks = 60,
main = "Histogram of the total number of steps taken each day",
xlab = "Number of steps")
# 2A. Mean
Mean <- mean(sum.date)
Mean
Median <- median(sum.date, na.rm = TRUE)
Median
# 1A. Preapering data for plotting
intervals <- sort(as.numeric(levels(data$interval)))
names(intervals) <- as.character(intervals)
for(i in seq_along(intervals)){
intervals[i] = mean(data[data$interval == intervals[i], "steps"],
na.rm = TRUE)
}
# 1B. Plotting
plot(names(intervals), intervals,
type = "l", xlab = "Intervals", ylab = "Mean",
main = "Time series plot of the 5-minute interval\n and the average number of steps taken")
# 2. Which interval contains the maximum number of steps ?
Max <- max(data$steps, na.rm = TRUE)
as.numeric(data[data[!is.na(data$steps), "steps"] == max(data$steps, na.rm = TRUE),
"interval"])
# 1. Number of missing values
sum(is.na(data$steps))
# 3. Creating new dataset
steps <- data$steps
for(i in seq_along(steps)){
if(is.na(steps[i])){
steps[i] = intervals[[ data[i, "interval"] ]]
}
}
new.data <- data.frame(steps, data$date, data$interval)
names(new.data) <- names(data)
# 4. Plotting histogram
for(i in seq_along(sum.date)){
sum.date[i] = sum(new.data[new.data$date == names(sum.date)[i], "steps"])
}
hist(sum.date, breaks = 60,
main = "Histogram of the total number of steps taken each day",
xlab = "Number of steps")
new.mean <- mean(sum.date)
new.mean
new.median <- median(sum.date)
new.median
differences <- data.frame(c(Mean, new.mean), c(Median, new.median),
row.names = c("means", "medians"))
names(differences) <- c("NA excluded", "NA replaced")
differences
new.data$date <- as.POSIXct(as.character(new.data$date)) + (60*new.data$interval)
new.data$date <- as.POSIXct(as.character(new.data$date)) +
(60 * as.numeric(new.data$interval))
head(new.data)
steps <- data$steps
for(i in seq_along(steps)){
if(is.na(steps[i])){
steps[i] = intervals[[ data[i, "interval"] ]]
}
}
new.data <- data.frame(steps, data$date, data$interval)
names(new.data) <- names(data)
dates <- as.POSIXct(as.character(new.data$date))
head(dates)
dates <- as.POSIXct(new.data$date, tz = "GTM")
head(dates)
(60 * new.data$interval)
new.data$interval
(60 * as.numeric(as.charcter(new.data$interval)))
(60 * as.numeric(as.character(new.data$interval)))
dates <- as.POSIXct(new.data$date, tz = "GTM") +
(60 * as.numeric(as.character(new.data$interval)))
head(dates)
names(new.data)
weekdays(new.data$date)
new.data$date <- as.POSIXct(new.data$date, tz = "GTM") +
(60 * as.numeric(as.character(new.data$interval)))
weekdays(new.data$date)
?weekdays
tmp <- weekdays(new.data[1,"date"])
tmp
unclass(tmp)
?factor
new.data$isWeekend <- ifelse(weekdays(new.data$data) == "sobota"
|| weekdays(new.data$data) == "niedziela",
1, 0)
new.data$isWeekend <- ifelse(weekdays(new.data$date) == "sobota"
|| weekdays(new.data$date) == "niedziela",
1, 0)
head(new.data)
weekday(new.data[1,2])
weekdays(new.data[1,2])
new.data$isWeekend <- ifelse(weekdays(new.data$date) == "sobota"
|| weekdays(new.data$date) == "niedziela",
"weekend", "weekday")
head(new.data)
weekdays(new.data[1,2])
new.data$is.Weekend <- factor(new.data$is.Weekend)
new.data$isWeekend <- ifelse(weekdays(new.data$date) == "sobota"
|| weekdays(new.data$date) == "niedziela",
1, 0)
new.data$is.Weekend <- factor(new.data$is.Weekend,
levels = c("weekday", "weekend"))
new.data$is.Weekend <- factor(new.data$is,
levels = c("weekday", "weekend"))
new.data$is.Weekend <- factor(new.data[,"is.Weekend"],
levels = c("weekday", "weekend"))
head(new.data)
steps <- data$steps
for(i in seq_along(steps)){
if(is.na(steps[i])){
steps[i] = intervals[[ data[i, "interval"] ]]
}
}
new.data <- data.frame(steps, data$date, data$interval)
names(new.data) <- names(data)
new.data$date <- as.POSIXct(new.data$date, tz = "GTM") +
(60 * as.numeric(as.character(new.data$interval)))
new.data$isWeekend <- ifelse(weekdays(new.data$date) == "sobota"
|| weekdays(new.data$date) == "niedziela",
"weekday", "weekend")
head(new.data)
new.data$isWeekend <- ifelse(weekdays(new.data$date) == "sobota"
|| weekdays(new.data$date) == "niedziela",
"weekend", "weekday")
head(new.data)
tmp <- factor(new.data[,"is.Weekend"],
levels = c("weekday", "weekend"))
tmp <- factor(new.data[,"isWeekend"],
levels = c("weekday", "weekend"))
head(tmp)
new.data$isWeekend <- factor(new.data[,"isWeekend"],
levels = c("weekday", "weekend"))
head(new.data)
